@import '~materialize-css/dist/css/materialize.min';

.signin-container {
  @extend .row;

  .sign-in-card-wrapper {
    @extend .col;
    @extend .s12;
    @extend .m6;
    @extend .l6;
    @extend .offset-m3;
    @extend .offset-l3;

    // TODO: add animation

    .sign-in-card {
      @extend .card;
      @extend .grey;
      @extend .lighten-4;

      .card-content{
        @extend .card-content;

        .title {
          @extend .card-title;
        }

        .input-field {

          input {
            &:not(.ng-pristine).ng-touched.ng-invalid {
              border-bottom: 1px solid red;
            }
          }

          input:focus + label {
            @extend .blue-text;
          }

          input:focus {
            border-bottom: 1px solid #9e9e9e;
            box-shadow: none;
          }

          .validation-error{
            position: absolute;
            color: red;
            font-size: 0.8rem;
            margin-left: 1rem;
            bottom: 1rem;
            right: 0;
            opacity: 0;
            transition: opacity .3s ease;

            &.has-errors{
              opacity: 1;
            }
          }
        }

        .submit-wrapper{
          @extend .row;
          margin-top: 1rem;

          .submit-button {
            @extend .btn;
            @extend .blue;
            @extend .lighten-1;
            @extend .text-white;

            @extend .col;
            @extend .l12;
          }
        }

        .submit-error {
          color: red;
        }

        .sign-in-card-content{
          opacity: 1;
          max-height: 17rem;
          overflow: hidden;
          transition: opacity .3s ease;

          &.submitting{
            pointer-events: none;
            opacity: 0.5;
          }

          &.has-submit-error{
            max-height: 19rem;
          }
        }

        .submitting-card-content{
          overflow: hidden;
          position: absolute;
          bottom: 0;
          top:0;
          left: 0;
          right: 0;
          text-align: center;
          display: none;
          opacity: 0;
          transition: opacity .3s ease;

          circular-loading {
            position: relative;
            top: 9rem;
          }

          &.submitting{
            display: block;
            opacity: 1;
          }
        }
      }

      .card-action{
        opacity: 1;
        max-height: 5rem;
        overflow: hidden;
        transition: all .3s ease;
        transition-property: opacity, max-height, padding, border-width;

        &.submitting {
          opacity: 0;
          max-height: 0;
          padding: 0;
          border-width: 0;
        }
      }
    }
  }
}
